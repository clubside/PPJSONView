var sakila={database:"sakila",source:"mysql",objects:[{object:"actor",primarykey:"actor_id",columns:[{column:"first_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"last_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"address",primarykey:"address_id",columns:[{column:"address",type:"text",unicode:!0,minchars:3,maxchars:50,required:!0},{column:"address2",type:"text",unicode:!0,maxchars:50,required:!1,default:"NULL"},{column:"district",type:"text",unicode:!0,minchars:3,maxchars:20,required:!0},{column:"city_id",type:"ref",refobj:"city",required:!0},{column:"postal_code",type:"text",unicode:!0,maxchars:10,required:!1,default:"NULL"},{column:"phone",type:"text",unicode:!0,minchars:3,maxchars:20,required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"category",primarykey:"category_id",columns:[{column:"name",type:"text",unicode:!0,minchars:3,maxchars:25,required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"city",primarykey:"city_id",columns:[{column:"city",type:"text",unicode:!0,minchars:3,maxchars:50,required:!0},{column:"country_id",type:"ref",refobj:"country",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"country",primarykey:"country_id",columns:[{column:"country",type:"text",unicode:!0,minchars:3,maxchars:50,required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"customer",primarykey:"customer_id",columns:[{column:"store_id",type:"ref",refobj:"store",required:!0},{column:"first_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"last_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"email",type:"text",unicode:!0,maxchars:50,required:!1,default:"NULL"},{column:"address_id",type:"ref",refobj:"address",required:!0},{column:"active",type:"num",negatives:!1,digits:3,required:!0,default:"1"},{column:"create_date",type:"datetime",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"film",primarykey:"film_id",columns:[{column:"title",type:"text",unicode:!0,minchars:3,maxchars:128,required:!0},{column:"description",type:"text",unicode:!0,maxchars:"max",required:!1,default:"NULL"},{column:"release_year",type:"year",required:!1,default:"NULL"},{column:"language_id",type:"ref",refobj:"language",required:!0},{column:"original_language_id",type:"ref",refobj:"language",refcol:"language_id",required:!1,default:"NULL"},{column:"rental_duration",type:"num",negatives:!1,digits:3,required:!0,default:"3"},{column:"rental_rate",type:"num",negatives:!0,digits:4,decimals:2,required:!0,default:"4.99"},{column:"length",type:"num",negatives:!0,digits:5,required:!1,default:"NULL"},{column:"replacement_cost",type:"num",negatives:!0,digits:5,decimals:2,required:!0,default:"19.99"},{column:"rating",type:"enum",required:!1,default:"'G'"},{column:"special_features",type:"set",required:!1,default:"NULL"},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"film_actor",primarykey:["actor_id","film_id"],columns:[{column:"actor_id",type:"ref",refobj:"actor",required:!0},{column:"film_id",type:"ref",refobj:"film",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"film_category",primarykey:["film_id","category_id"],columns:[{column:"film_id",type:"ref",refobj:"film",required:!0},{column:"category_id",type:"ref",refobj:"category",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"film_text",primarykey:"film_id",columns:[{column:"title",type:"text",unicode:!0,minchars:3,maxchars:255,required:!0},{column:"description",type:"text",unicode:!0,maxchars:"max",required:!1,default:"NULL"}]},{object:"inventory",primarykey:"inventory_id",columns:[{column:"film_id",type:"ref",refobj:"film",required:!0},{column:"store_id",type:"ref",refobj:"store",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"language",primarykey:"language_id",columns:[{column:"name",type:"text",unicode:!0,minchars:3,maxchars:20,required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"payment",primarykey:"payment_id",columns:[{column:"customer_id",type:"ref",refobj:"customer",required:!0},{column:"staff_id",type:"ref",refobj:"staff",required:!0},{column:"rental_id",type:"ref",refobj:"rental",required:!1,default:"NULL"},{column:"amount",type:"num",negatives:!0,digits:5,decimals:2,required:!0},{column:"payment_date",type:"datetime",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"rental",primarykey:"rental_id",columns:[{column:"rental_date",type:"datetime",required:!0},{column:"inventory_id",type:"ref",refobj:"inventory",required:!0},{column:"customer_id",type:"ref",refobj:"customer",required:!0},{column:"return_date",type:"datetime",required:!1,default:"NULL"},{column:"staff_id",type:"ref",refobj:"staff",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}],constraints:{rental_date:["rental_date","inventory_id","customer_id"]}},{object:"staff",primarykey:"staff_id",columns:[{column:"first_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"last_name",type:"text",unicode:!0,minchars:3,maxchars:45,required:!0},{column:"address_id",type:"ref",refobj:"address",required:!0},{column:"picture",type:"blob",required:!1,default:"NULL"},{column:"email",type:"text",unicode:!0,maxchars:50,required:!1,default:"NULL"},{column:"store_id",type:"ref",refobj:"store",required:!0},{column:"active",type:"num",negatives:!1,digits:3,required:!0,default:"1"},{column:"username",type:"text",unicode:!0,minchars:3,maxchars:16,required:!0},{column:"password",type:"text",unicode:!0,maxchars:40,required:!1,default:"NULL"},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}]},{object:"store",primarykey:"store_id",columns:[{column:"manager_staff_id",type:"ref",refobj:"staff",refcol:"staff_id",required:!0},{column:"address_id",type:"ref",refobj:"address",required:!0},{column:"last_update",type:"timestamp",required:!0,default:"current_timestamp()"}],constraints:{idx_unique_manager:["manager_staff_id"]}}],views:[{view:"actor_info",definition:"select `a`.`actor_id` AS `actor_id`,`a`.`first_name` AS `first_name`,`a`.`last_name` AS `last_name`,group_concat(distinct concat(`c`.`name`,': ',(select group_concat(`f`.`title` order by `f`.`title` ASC separator ', ') from ((`sakila`.`film` `f` join `sakila`.`film_category` `fc` on(`f`.`film_id` = `fc`.`film_id`)) join `sakila`.`film_actor` `fa` on(`f`.`film_id` = `fa`.`film_id`)) where `fc`.`category_id` = `c`.`category_id` and `fa`.`actor_id` = `a`.`actor_id`)) order by `c`.`name` ASC separator '; ') AS `film_info` from (((`sakila`.`actor` `a` left join `sakila`.`film_actor` `fa` on(`a`.`actor_id` = `fa`.`actor_id`)) left join `sakila`.`film_category` `fc` on(`fa`.`film_id` = `fc`.`film_id`)) left join `sakila`.`category` `c` on(`fc`.`category_id` = `c`.`category_id`)) group by `a`.`actor_id`,`a`.`first_name`,`a`.`last_name`"},{view:"customer_list",definition:"select `cu`.`customer_id` AS `ID`,concat(`cu`.`first_name`,' ',`cu`.`last_name`) AS `name`,`a`.`address` AS `address`,`a`.`postal_code` AS `zip code`,`a`.`phone` AS `phone`,`sakila`.`city`.`city` AS `city`,`sakila`.`country`.`country` AS `country`,if(`cu`.`active`,'active','') AS `notes`,`cu`.`store_id` AS `SID` from (((`sakila`.`customer` `cu` join `sakila`.`address` `a` on(`cu`.`address_id` = `a`.`address_id`)) join `sakila`.`city` on(`a`.`city_id` = `sakila`.`city`.`city_id`)) join `sakila`.`country` on(`sakila`.`city`.`country_id` = `sakila`.`country`.`country_id`))"},{view:"film_list",definition:"select `sakila`.`film`.`film_id` AS `FID`,`sakila`.`film`.`title` AS `title`,`sakila`.`film`.`description` AS `description`,`sakila`.`category`.`name` AS `category`,`sakila`.`film`.`rental_rate` AS `price`,`sakila`.`film`.`length` AS `length`,`sakila`.`film`.`rating` AS `rating`,group_concat(concat(`sakila`.`actor`.`first_name`,' ',`sakila`.`actor`.`last_name`) separator ', ') AS `actors` from ((((`sakila`.`category` left join `sakila`.`film_category` on(`sakila`.`category`.`category_id` = `sakila`.`film_category`.`category_id`)) left join `sakila`.`film` on(`sakila`.`film_category`.`film_id` = `sakila`.`film`.`film_id`)) join `sakila`.`film_actor` on(`sakila`.`film`.`film_id` = `sakila`.`film_actor`.`film_id`)) join `sakila`.`actor` on(`sakila`.`film_actor`.`actor_id` = `sakila`.`actor`.`actor_id`)) group by `sakila`.`film`.`film_id`,`sakila`.`category`.`name`"},{view:"nicer_but_slower_film_list",definition:"select `sakila`.`film`.`film_id` AS `FID`,`sakila`.`film`.`title` AS `title`,`sakila`.`film`.`description` AS `description`,`sakila`.`category`.`name` AS `category`,`sakila`.`film`.`rental_rate` AS `price`,`sakila`.`film`.`length` AS `length`,`sakila`.`film`.`rating` AS `rating`,group_concat(concat(concat(ucase(substr(`sakila`.`actor`.`first_name`,1,1)),lcase(substr(`sakila`.`actor`.`first_name`,2,octet_length(`sakila`.`actor`.`first_name`))),' ',concat(ucase(substr(`sakila`.`actor`.`last_name`,1,1)),lcase(substr(`sakila`.`actor`.`last_name`,2,octet_length(`sakila`.`actor`.`last_name`)))))) separator ', ') AS `actors` from ((((`sakila`.`category` left join `sakila`.`film_category` on(`sakila`.`category`.`category_id` = `sakila`.`film_category`.`category_id`)) left join `sakila`.`film` on(`sakila`.`film_category`.`film_id` = `sakila`.`film`.`film_id`)) join `sakila`.`film_actor` on(`sakila`.`film`.`film_id` = `sakila`.`film_actor`.`film_id`)) join `sakila`.`actor` on(`sakila`.`film_actor`.`actor_id` = `sakila`.`actor`.`actor_id`)) group by `sakila`.`film`.`film_id`,`sakila`.`category`.`name`"},{view:"sales_by_film_category",definition:"select `c`.`name` AS `category`,sum(`p`.`amount`) AS `total_sales` from (((((`sakila`.`payment` `p` join `sakila`.`rental` `r` on(`p`.`rental_id` = `r`.`rental_id`)) join `sakila`.`inventory` `i` on(`r`.`inventory_id` = `i`.`inventory_id`)) join `sakila`.`film` `f` on(`i`.`film_id` = `f`.`film_id`)) join `sakila`.`film_category` `fc` on(`f`.`film_id` = `fc`.`film_id`)) join `sakila`.`category` `c` on(`fc`.`category_id` = `c`.`category_id`)) group by `c`.`name` order by sum(`p`.`amount`) desc"},{view:"sales_by_store",definition:"select concat(`c`.`city`,',',`cy`.`country`) AS `store`,concat(`m`.`first_name`,' ',`m`.`last_name`) AS `manager`,sum(`p`.`amount`) AS `total_sales` from (((((((`sakila`.`payment` `p` join `sakila`.`rental` `r` on(`p`.`rental_id` = `r`.`rental_id`)) join `sakila`.`inventory` `i` on(`r`.`inventory_id` = `i`.`inventory_id`)) join `sakila`.`store` `s` on(`i`.`store_id` = `s`.`store_id`)) join `sakila`.`address` `a` on(`s`.`address_id` = `a`.`address_id`)) join `sakila`.`city` `c` on(`a`.`city_id` = `c`.`city_id`)) join `sakila`.`country` `cy` on(`c`.`country_id` = `cy`.`country_id`)) join `sakila`.`staff` `m` on(`s`.`manager_staff_id` = `m`.`staff_id`)) group by `s`.`store_id` order by `cy`.`country`,`c`.`city`"},{view:"staff_list",definition:"select `s`.`staff_id` AS `ID`,concat(`s`.`first_name`,' ',`s`.`last_name`) AS `name`,`a`.`address` AS `address`,`a`.`postal_code` AS `zip code`,`a`.`phone` AS `phone`,`sakila`.`city`.`city` AS `city`,`sakila`.`country`.`country` AS `country`,`s`.`store_id` AS `SID` from (((`sakila`.`staff` `s` join `sakila`.`address` `a` on(`s`.`address_id` = `a`.`address_id`)) join `sakila`.`city` on(`a`.`city_id` = `sakila`.`city`.`city_id`)) join `sakila`.`country` on(`sakila`.`city`.`country_id` = `sakila`.`country`.`country_id`))"}]};