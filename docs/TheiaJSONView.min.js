"use strict";class TheiaJSONView{_addSVG(){return'\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="tjv_svg">\n\t\t\t\t\t\t\t<symbol id="minus-square" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="plus-square" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="expand-solid" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="paste-solid" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M128 184c0-30.879 25.122-56 56-56h136V56c0-13.255-10.745-24-24-24h-80.61C204.306 12.89 183.637 0 160 0s-44.306 12.89-55.39 32H24C10.745 32 0 42.745 0 56v336c0 13.255 10.745 24 24 24h104V184zm32-144c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24zm184 248h104v200c0 13.255-10.745 24-24 24H184c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h136v104c0 13.2 10.8 24 24 24zm104-38.059V256h-96v-96h6.059a24 24 0 0 1 16.97 7.029l65.941 65.941a24.002 24.002 0 0 1 7.03 16.971z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="minus-solid" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="plus-solid" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t\t<symbol id="copy-solid" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path>\n\t\t\t\t\t\t\t</symbol>\n\t\t\t\t\t\t</svg>\n'}_stringCSS(){return"\t\t\t:root {\n\t\t\t\t--tjv_toolbar: 11,37,69;\n\t\t\t\t--tjv_toolbuttonback: 11,37,69;\n\t\t\t\t--tjv_toolbuttonfore: 238,244,237;\n\t\t\t\t--tjv_toolbuttonhoverback: 141,169,196;\n\t\t\t\t--tjv_toolbuttonhoverfore: 19,49,92;\n\t\t\t}\n\t\t\t.tjv_container {\n\t\t\t\tposition: relative;\n\t\t\t\theight: inherit;\n\t\t\t\twidth: inherit;\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-rows: auto 1fr;\n\t\t\t\tbackground-color: rgba(var(--tjv_background), 1);\n\t\t\t}\n\n\t\t\t.tjv_float {\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 2rem;\n\t\t\t\tbottom: 1rem;\n\t\t\t\theight: 1.5rem;\n\t\t\t\twidth: 6rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tz-index: 999;\n\t\t\t}\n\t\t\t.tjv_float button {\n\t\t\t\theight: 1.5rem;\n\t\t\t\twidth: 1.5rem;\n\t\t\t\tbackground: rgba(var(--tjv_toolbuttonback), 1);\n\t\t\t\tcolor: rgba(var(--tjv_toolbuttonfore), 1);\n\t\t\t\tborder: 0;\n\t\t\t\tpadding: .1rem;\n\t\t\t\tmargin: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.tjv_float button:hover,\n\t\t\t.tjv_float button:focus {\n\t\t\t\tbackground: rgba(var(--tjv_toolbuttonhoverback), 1);\n\t\t\t\tcolor: rgba(var(--tjv_toolbuttonhoverfore), 1);\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t.tjv_float button svg {\n\t\t\t\theight: 1.3rem;\n\t\t\t\twidth: auto;\n\t\t\t\tshape-rendering: geometricprecision;\n\t\t\t}\n\n\t\t\t.tjv_toolbar {\n\t\t\t\theight: 1.5rem;\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr auto;\n\t\t\t\tbackground: rgba(var(--tjv_toolbar), 1);\n\t\t\t}\n\t\t\t.tjv_toolbar section {\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: 0;\n\t\t\t\tbackground: transparent;\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t\t.tjv_toolbar button {\n\t\t\t\theight: 1.5rem;\n\t\t\t\twidth: 1.5rem;\n\t\t\t\tbackground: rgba(var(--tjv_toolbuttonback), 1);\n\t\t\t\tcolor: rgba(var(--tjv_toolbuttonfore), 1);\n\t\t\t\tborder: 0;\n\t\t\t\tpadding: .1rem;\n\t\t\t\tmargin: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.tjv_toolbar button:hover,\n\t\t\t.tjv_toolbar button:focus {\n\t\t\t\tbackground: rgba(var(--tjv_toolbuttonhoverback), 1);\n\t\t\t\tcolor: rgba(var(--tjv_toolbuttonhoverfore), 1);\n\t\t\t\toutline: none;\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t.tjv_toolbar button svg {\n\t\t\t\theight: 1.3rem;\n\t\t\t\twidth: auto;\n\t\t\t\tshape-rendering: geometricprecision;\n\t\t\t}\n\t\t\t.tjv_host {\n\t\t\t\tbackground-color: rgba(var(--tjv_background), 1);\n\t\t\t\toverflow: auto;\n\t\t\t}\n\t\t\t.tjv * {\n\t\t\t\ttext-align: left;\n\t\t\t\tbackground: transparent;\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.tjv div {\n\t\t\t\tmargin-left: 1.5rem;\n\t\t\t}\n\t\t\t.tjv header {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t\t.tjv section {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: auto 1fr;\n\t\t\t\tgrid-gap: 0;\n\t\t\t\tbackground: transparent;\n\t\t\t}\n\t\t\t.tjv div.tjv_block {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t\t.tjv section.tjv_block {\n\t\t\t\tmargin-left: -1.5rem;\n\t\t\t}\n\t\t\t.tjv_button {\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder-color: transparent;\n\t\t\t\tpadding: .1em;\n\t\t\t\tborder-width: 0;\n\t\t\t\tcolor: rgba(var(--tjv_button), 1);\n\t\t\t\theight: 1em;\n\t\t\t\twidth: 1em;\n\t\t\t\tdisplay: inline-flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tuser-select: none;\n\t\t\t}\n\t\t\t.tjv_button svg {\n\t\t\t\theight: .8em;\n\t\t\t\twidth: .8em;\n\t\t\t\tshape-rendering: geometricprecision;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\t.tjv_string {\n\t\t\t\tcolor: rgba(var(--tjv_string), 1);\n\t\t\t\twhite-space: pre;\n\t\t\t\tword-wrap: break-word;\n\t\t\t}\n\t\t\t.tjv_number {\n\t\t\t\tcolor: rgba(var(--tjv_number), 1);\n\t\t\t}\n\t\t\t.tjv_boolean {\n\t\t\t\tcolor: rgba(var(--tjv_boolean), 1);\n\t\t\t}\n\t\t\t.tjv_string img {\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t\t.tjv_null {\n\t\t\t\tcolor: rgba(var(--tjv_null), 1);\n\t\t\t}\n\t\t\t.tjv_undefined {\n\t\t\t\tcolor: rgba(var(--tjv_undefined), 1);\n\t\t\t}\n\t\t\t.tjv_function {\n\t\t\t\tcolor: rgba(var(--tjv_function), 1);\n\t\t\t}\n\t\t\t.tjv_date {\n\t\t\t\tcolor: rgba(var(--tjv_date), 1);\n\t\t\t}\n\t\t\t.tjv_url {\n\t\t\t\ttext-decoration: underline;\n\t\t\t\tcolor: rgba(var(--tjv_url), 1);\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.tjv_url a,\n\t\t\t.tjv_url a:hover {\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t}\n\t\t\t.tjv_bracket {\n\t\t\t\tcolor: rgba(var(--tjv_bracket), 1);\n\t\t\t\tmargin-right: .1em;\n\t\t\t}\n\t\t\t.tjv_key {\n\t\t\t\tcolor: rgba(var(--tjv_key), 1);\n\t\t\t\tpadding-right: 0.25rem;\n\t\t\t}\n\t\t\t.tjv_string, .tjv_function, .tjv_url {\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t\tword-break: break-word;\n\t\t\t}\n\t\t\t.tjv_hidden {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t#tjv_svg {\n\t\t\t\tdisplay: none;\n\t\t\t}\n"}_stringTheme(){let themeColors;var themeMain="\t.tjv {\n\t\tfont-family: "+this._fontfamily+";\n\t\tfont-size: "+this._fontsize+";\n\t\tline-height: 1.5;\n\t\tcolor: rgba(var(--tjv_foreground), 1);\n\t\tbackground-color: rgba(var(--tjv_background), 1);\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t\tmin-width: 40rem;\n\t\tmin-height: 100%;\n\t\tposition: relative;\n\t\ttext-align: left;\n\t}\n";switch(this._theme){case"light":themeColors=":root {\n\t--tjv_foreground: 0, 0, 0;\n\t--tjv_background: 255, 255, 255;\n\t--tjv_button: 41, 128, 185;\n\t--tjv_string: 0, 128, 0;\n\t--tjv_number: 255, 140, 0;\n\t--tjv_boolean: 255, 0, 0;\n\t--tjv_date: 0, 167, 255;\n\t--tjv_null: 133, 90, 0;\n\t--tjv_undefined: 202, 11, 105;\n\t--tjv_function: 255, 32, 237;\n\t--tjv_url: 0, 0, 255;\n\t--tjv_bracket: 0, 0, 255;\n\t--tjv_key: 0, 0, 139;\n}\n";break;case"dark":themeColors=":root {\n\t--tjv_foreground: 255, 255, 255;\n\t--tjv_background: 0, 0, 0;\n\t--tjv_button: 197, 197, 197;\n\t--tjv_string: 49, 240, 49;\n\t--tjv_number: 102, 194, 255;\n\t--tjv_boolean: 236, 66, 66;\n\t--tjv_null: 238, 201, 125;\n\t--tjv_date: 78, 154, 255;\n\t--tjv_undefined: 239, 143, 190;\n\t--tjv_function: 253, 72, 203;\n\t--tjv_url: 2, 123, 255;\n\t--tjv_bracket: 148, 148, 255;\n\t--tjv_key: 35, 160, 219;\n}\n";break;case"material":themeColors=":root {\n\t--tjv_foreground: 238, 255, 255;\n\t--tjv_background: 38, 50, 56;--tjv_button: 197, 197, 197;\n\t\n\t--tjv_string: 195, 232, 141;\n\t--tjv_number: 247, 140, 108;\n\t--tjv_boolean: 247, 140, 108;\n\t--tjv_null: 247, 140, 108;\n\t--tjv_date: 0, 167, 255;\n\t--tjv_undefined: 247, 140, 108;\n\t--tjv_function: 199, 146, 234;\n\t--tjv_url: 195, 232, 141;\n\t--tjv_bracket: 137, 221, 255;\n\t--tjv_key: 238, 255, 255;\n}\n";break;default:themeColors=":root {\n\t--tjv_foreground: 202, 240, 248;\n\t--tjv_background: 19,49,92;\n\t--tjv_button: 197, 197, 197;\n\t--tjv_string: 49, 240, 49;\n\t--tjv_number: 102, 194, 255;\n\t--tjv_boolean: 236, 66, 66;\n\t--tjv_null: 238, 201, 125;\n\t--tjv_date: 78, 154, 255;\n\t--tjv_undefined: 239, 143, 190;\n\t--tjv_function: 253, 72, 203;\n\t--tjv_url: 2, 123, 255;\n\t--tjv_bracket: 148, 148, 255;\n\t--tjv_key: 35, 160, 219;\n}\n"}return themeColors+themeMain}_addStyle(){let cssStyle;cssStyle=document.getElementById("tjv_css"),cssStyle&&cssStyle.remove(),cssStyle=document.getElementById("tjv_theme"),cssStyle&&cssStyle.remove(),cssStyle=document.createElement("style"),cssStyle.setAttribute("id","tjv_css"),cssStyle.setAttribute("media","screen"),cssStyle.innerHTML=this._stringCSS(),document.head.appendChild(cssStyle),cssStyle=document.createElement("style"),cssStyle.setAttribute("id","tjv_theme"),cssStyle.setAttribute("media","screen"),cssStyle.innerHTML=this._stringTheme(),document.head.appendChild(cssStyle)}_changeTheme(){let cssStyle;cssStyle=document.getElementById("tjv_theme"),cssStyle&&cssStyle.remove(),cssStyle=document.createElement("style"),cssStyle.setAttribute("id","tjv_theme"),cssStyle.setAttribute("media","screen"),cssStyle.innerHTML=this._stringTheme(),document.head.appendChild(cssStyle)}_update(){var divRoot=document.getElementById("tjv_container").parentNode;switch(divRoot.innerHTML="",this._rendered){case"debug":this.debug(divRoot.id);break;case"plain":this.plain(divRoot.id);break;default:this.html(divRoot.id)}}_blockKeyValue(blockType,blockKey,blockValueType,blockValue){var outElement=document.createElement(blockType),spanKey=document.createElement("span");spanKey.classList.add("tjv_key"),spanKey.innerHTML=blockKey+":",outElement.appendChild(spanKey);var spanValue=document.createElement("span");return spanValue.classList.add("tjv_"+blockValueType),spanValue.innerHTML=blockValue,outElement.appendChild(spanValue),outElement}_handleJSON(json){if(void 0===json)return"No JSON provided.";if("object"==typeof json)return json;try{return JSON.parse(json.toString())}catch(error){return'JSON parse error\ninput="'+json+'"\n'+error}}_handleTheme(theme){return"string"!=typeof theme?"default":["default","dark","light","material"].includes(theme)?theme:"default"}_handleFontFamily(fontfamily){return"string"!=typeof fontfamily?'"Fira Code", "Roboto Mono", Consolas, "Courier New", monospace':""===fontfamily.trim()?'"Fira Code", "Roboto Mono", Consolas, "Courier New", monospace':fontfamily+", monospace"}_handleFontSize(fontsize){return"string"!=typeof fontsize?"1rem":""===fontsize.trim()?"1rem":fontsize}_handleAllowCollapse(allowcollapse){return"boolean"!=typeof allowcollapse||allowcollapse}_handleAutoCollapse(autocollapse){return"number"!=typeof autocollapse?0:autocollapse<0?0:autocollapse}_handleRollUps(rollups){return"boolean"==typeof rollups&&rollups}_handleItemCounts(itemcounts){return"boolean"==typeof itemcounts&&itemcounts}_handleItemNumbers(itemnumbers){return"boolean"==typeof itemnumbers&&itemnumbers}get json(){return this._json}set json(json){if(void 0===json)throw new Error("no json provided");if("object"!=typeof json)try{JSON.parse(json.toString())}catch(error){throw new Error("json string could not be parsed: "+error)}this._json=this._handleJSON(json),""!==this._rendered&&this._update()}get theme(){return this._theme}set theme(theme){if("string"!=typeof theme)throw new Error("theme must be a string");if(!["default","light","dark","material"].includes(theme))throw new Error("invalid theme");var newTheme=this._handleTheme(theme);newTheme!==this._theme&&(this._theme=newTheme,""!==this._rendered&&this._changeTheme())}get fontfamily(){return this._fontfamily}set fontfamily(fontfamily){if("string"!=typeof fontfamily)throw new Error("fontfamily must be a string");if(""===fontfamily.trim())throw new Error("fontfamily cannot be empty");var newFontFamily=this._handleFontFamily(fontfamily);newFontFamily!==this._fontfamily&&(this._fontfamily=newFontFamily,""!==this._rendered&&this._changeTheme())}get fontsize(){return this._fontsize}set fontsize(fontsize){if("string"!=typeof fontsize)throw new Error("fontsize must be a string");if(""===fontsize.trim())throw new Error("fontsize cannot be empty");var newFontSize=this._handleFontSize(fontsize);newFontSize!==this._fontsize&&(this._fontsize=newFontSize,""!==this._rendered&&this._changeTheme())}get allowcollapse(){return this._allowcollapse}set allowcollapse(allowcollapse){if("boolean"!=typeof allowcollapse)throw new Error("allowcollapse requires a boolean value");this._allowcollapse=this._handleAllowCollapse(allowcollapse),""!==this._rendered&&this._update()}get autocollapse(){return this._autocollapse}set autocollapse(autocollapse){if("number"!=typeof autocollapse)throw new Error("autocollapse must be a number");if(autocollapse<0)throw new Error("autocollapse cannot be a negative");this._autocollapse=this._handleAutoCollapse(autocollapse),""!==this._rendered&&this._update()}get rollups(){return this._rollups}set rollups(rollups){if("boolean"!=typeof rollups)throw new Error("rollups requires a boolean value");this._rollups=this._handleRollUps(rollups),""!==this._rendered&&this._update()}get itemcounts(){return this._itemcounts}set itemcounts(itemcounts){if("boolean"!=typeof itemcounts)throw new Error("itemcounts requires a boolean value");this._itemcounts=this._handleItemCounts(itemcounts),""!==this._rendered&&this._update()}get itemnumbers(){return this._itemnumbers}set itemnumbers(itemnumbers){if("boolean"!=typeof itemnumbers)throw new Error("itemnumbers requires a boolean value");this._itemnumbers=this._handleItemNumbers(itemnumbers),""!==this._rendered&&this._update()}constructor(json,element,obj){let opts;this._date=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,this._json=this._handleJSON(json),this._theme="default",this._fontfamily='"Fira Code", "Roboto Mono", Consolas, "Courier New", monospace',this._fontsize="1rem",this._allowcollapse=!0,this._autocollapse=0,this._rollups=!1,this._itemcounts=!1,this._itemnumbers=!1,this._block=0,this._rendered="",opts="string"!=typeof element&&"object"===element?element:obj,"object"==typeof opts&&(this._theme=this._handleTheme(opts.theme),this._fontfamily=this._handleFontFamily(opts.fontfamily),this._fontsize=this._handleFontSize(opts.fontsize),this._allowcollapse=this._handleAllowCollapse(opts.allowcollapse),this._autocollapse=this._handleAutoCollapse(opts.autocollapse),this._rollups=this._handleRollUps(opts.rollups),this._itemcounts=this._handleItemCounts(opts.itemcounts),this._itemnumbers=this._handleItemNumbers(opts.itemnumbers)),this._addStyle(),"string"==typeof element&&this.html(element)}debug(obj){var divRoot=document.createElement("div");divRoot.classList.add("tjv"),divRoot.setAttribute("id","tjv"),divRoot.appendChild(this._blockKeyValue("section","json","string",this._json)),divRoot.appendChild(this._blockKeyValue("section","theme","string",this._theme)),divRoot.appendChild(this._blockKeyValue("section","fontfamily","string",this._fontfamily)),divRoot.appendChild(this._blockKeyValue("section","fontsize","string",this._fontsize)),divRoot.appendChild(this._blockKeyValue("section","autocollapse","number",this._autocollapse)),divRoot.appendChild(this._blockKeyValue("section","rollups","boolean",this._rollups)),this._rendered="debug";var objOutput=document.getElementById(obj);objOutput.innerHTML="",objOutput.appendChild(divRoot)}plain(obj){var outPre=document.createElement("pre");outPre.classList.add("tjv"),outPre.setAttribute("id","tjv"),"string"==typeof this._json?outPre.innerHTML=this._json:outPre.innerHTML=JSON.stringify(this._json,void 0,4),this._rendered="plain";var objOutput=document.getElementById(obj);objOutput.innerHTML="",objOutput.appendChild(outPre)}html(obj){if("string"==typeof this._json)return this.plain();var divRoot=document.createElement("div");let tjvButton;divRoot.classList.add("tjv"),divRoot.setAttribute("id","tjv"),divRoot.innerHTML=this._addSVG(),this._block=0,this._walkJSON(divRoot,this._json,"","","",1),this._rendered="html";var divContainer=document.createElement("div");divContainer.setAttribute("id","tjv_container"),divContainer.classList.add("tjv_container");var divToolbar=document.createElement("div");divToolbar.setAttribute("id","tjv_float"),divToolbar.classList.add("tjv_float");var divHost=document.createElement("div");divHost.setAttribute("id","tjv_host"),divHost.classList.add("tjv_host"),tjvButton=document.createElement("button"),tjvButton.setAttribute("type","button"),tjvButton.setAttribute("title","Copy JSON"),tjvButton.innerHTML='<svg><use xlink:href="#copy-solid"></use></svg>',tjvButton.addEventListener("click",(function(){var v=document.getElementById("tjv_copy"),t=v.value;if(navigator.clipboard)navigator.clipboard.writeText(t);else{v.focus(),v.select();try{document.execCommand("copy")}catch(e){console.error("Unable to copy",e)}this.focus()}})),divToolbar.appendChild(tjvButton),tjvButton=document.createElement("button"),tjvButton.setAttribute("type","button"),tjvButton.setAttribute("title","Shrink View"),tjvButton.innerHTML='<svg><use xlink:href="#minus-solid"></use></svg>',tjvButton.addEventListener("click",(function(){var tjvc=document.getElementById("tjv_container");try{tjvc.parentNode.offsetHeight>=380&&(tjvc.parentNode.style.height=tjvc.parentNode.offsetHeight-80+"px")}catch(e){console.log(e.message)}})),divToolbar.appendChild(tjvButton),tjvButton=document.createElement("button"),tjvButton.setAttribute("type","button"),tjvButton.setAttribute("title","Grow View"),tjvButton.innerHTML='<svg><use xlink:href="#plus-solid"></use></svg>',tjvButton.addEventListener("click",(function(){var tjvc=document.getElementById("tjv_container");try{tjvc.parentNode.style.height=tjvc.parentNode.offsetHeight+80+"px"}catch(e){console.log(e.message)}})),divToolbar.appendChild(tjvButton),tjvButton=document.createElement("button"),tjvButton.setAttribute("type","button"),tjvButton.setAttribute("title","Fullscreen"),tjvButton.innerHTML='<svg><use xlink:href="#expand-solid"></use></svg>',tjvButton.addEventListener("click",(function(){var v=document.getElementById("tjv_host"),f=document.getElementById("tjv_float");v.requestFullScreen?(f.classList.add("tjv_hidden"),v.requestFullscreen()):v.mozRequestFullScreen?(f.classList.add("tjv_hidden"),v.mozRequestFullScreen()):v.webkitRequestFullscreen&&(f.classList.add("tjv_hidden"),v.webkitRequestFullscreen())})),divToolbar.appendChild(tjvButton),document.addEventListener("fullscreenchange",(function(){var f;null===document.fullscreenElement&&document.getElementById("tjv_float").classList.remove("tjv_hidden")}),!1),document.addEventListener("mozfullscreenchange",(function(){var f;null===document.mozFullScreenElement&&document.getElementById("tjv_float").classList.remove("tjv_hidden")}),!1),document.addEventListener("webkitfullscreenchange",(function(){var f;null===document.webkitFullscreenElement&&document.getElementById("tjv_float").classList.remove("tjv_hidden")}),!1);var textArea=document.createElement("textarea");textArea.setAttribute("id","tjv_copy"),textArea.classList.add("tjv_hidden"),textArea.value=JSON.stringify(this._json),divHost.appendChild(textArea),divHost.appendChild(divToolbar),divHost.appendChild(divRoot),divContainer.appendChild(divHost);var objOutput=document.getElementById(obj);objOutput.innerHTML="",objOutput.appendChild(divContainer)}_walkJSON(divParent,json,jsonkey,rollupkey,itemnum,level){let spanIntro,divBlockControl,rollup;this._block++;var isArray=Array.isArray(json),rollupText="";1===this._block?(divBlockControl=document.createElement("header"),divBlockControl.classList.add("tjv_block")):(divBlockControl=document.createElement("header"),""!==jsonkey&&(spanIntro=document.createElement("span"),spanIntro.classList.add("tjv_key"),spanIntro.innerText=jsonkey,divBlockControl.appendChild(spanIntro))),""!==jsonkey&&(rollupkey=jsonkey);var spanCollapseElement=document.createElement("span");if(spanCollapseElement.classList.add("tjv_bracket"),this._rollups&&rollupkey.length>0&&"s"===rollupkey.substring(rollupkey.length-1))for(var rollupmatch in rollup=rollupkey.substring(0,rollupkey.length-1),json)rollupmatch===rollup&&(rollupText=json[rollupmatch]);var strCollapse="";if(""!==itemnum&&this._itemnumbers&&(strCollapse+=itemnum+": "),strCollapse+=this._rollups?rollupText+(""!==rollupText?" ":"")+(isArray?"[":"{"):isArray?"[":"{",this._itemcounts&&(strCollapse+=" "+(isArray?json.length:Object.keys(json).length)),spanCollapseElement.innerText=strCollapse,divBlockControl.appendChild(spanCollapseElement),this._allowcollapse){var spanCollapseButton=document.createElement("span");spanCollapseButton.classList.add("tjv_button"),0!==this._autocollapse&&level>this._autocollapse&&spanCollapseButton.classList.add("tjv_hidden"),spanCollapseButton.setAttribute("id","tjvc"+this._block),spanCollapseButton.innerHTML='<svg><use xlink:href="#minus-square"></use></svg>',spanCollapseButton.addEventListener("click",(function(){var b,n=this.id.substring(4);console.log("n="+n);var eBlock=document.getElementById("tjvb"+n),eCollapse=document.getElementById("tjvo"+n),eExpand=document.getElementById("tjvc"+n);eBlock.classList.add("tjv_hidden"),eExpand.classList.add("tjv_hidden"),eCollapse.parentNode.classList.remove("tjv_hidden")})),divBlockControl.appendChild(spanCollapseButton)}var spanExpandButtonOuter=document.createElement("span");if(this._allowcollapse){(0===this._autocollapse||level<this._autocollapse+1)&&spanExpandButtonOuter.classList.add("tjv_hidden");var spanExpandButton=document.createElement("span");spanExpandButton.classList.add("tjv_button"),spanExpandButton.setAttribute("id","tjvo"+this._block),spanExpandButton.innerHTML='<svg><use xlink:href="#plus-square"></use></svg>',spanExpandButton.addEventListener("click",(function(){var b,n=this.id.substring(4);console.log("n="+n);var eBlock=document.getElementById("tjvb"+n),eCollapse=document.getElementById("tjvo"+n),eExpand=document.getElementById("tjvc"+n);eBlock.classList.remove("tjv_hidden"),eExpand.classList.remove("tjv_hidden"),eCollapse.parentNode.classList.add("tjv_hidden")})),spanExpandButtonOuter.appendChild(spanExpandButton)}var spanExpandElement=document.createElement("span");spanExpandElement.classList.add("tjv_bracket"),spanExpandElement.innerText=isArray?"]":"}",spanExpandButtonOuter.appendChild(spanExpandElement),divBlockControl.appendChild(spanExpandButtonOuter),divParent.appendChild(divBlockControl);var divBlockItem=document.createElement("div");let divPair,spanKey,classKey,strKey,spanValue,classValue,strValue;for(var key in divBlockItem.setAttribute("id","tjvb"+this._block),0!==this._autocollapse&&level>this._autocollapse&&divBlockItem.classList.add("tjv_hidden"),json)if(divPair=document.createElement("section"),spanKey=document.createElement("span"),classKey="key",strKey=key+":",spanValue=document.createElement("span"),classValue=(typeof json[key]).toString(),strValue=json[key],"object"==typeof json[key]&&null!=json[key])this._walkJSON(divBlockItem,json[key],isArray?"":key,rollupkey,Number.isNaN(Number.parseInt(key))&&this._itemnumbers?"":key,level+1);else{switch(typeof json[key]){case"string":json[key].match(this._date)?classValue="date":"http"===json[key].substring(0,4)&&(json[key].includes(".png")||json[key].includes(".jpg"))?strValue='<a href="'+json[key]+'"><img src="'+json[key]+'" /></a>':"http"===json[key].substring(0,4)?(classValue="url",strValue='<a href="'+json[key]+'">'+json[key]+"</a>"):this._rollups&&key===rollup?(strKey="",strValue=""):strValue="&ldquo;"+json[key]+"&rdquo;";break;case"object":null==json[key]?(classValue="null",strValue="null"):console.log(key+": "+json[key]+" (object)")}isArray&&!this._itemnumbers||(spanKey.classList.add("tjv_key"),spanKey.innerHTML=strKey,divPair.appendChild(spanKey)),""!==strKey&&""!==strValue&&(spanValue.classList.add("tjv_"+classValue),spanValue.innerHTML=strValue,divPair.appendChild(spanValue),divBlockItem.appendChild(divPair))}var divCloseElement=document.createElement("section");divCloseElement.classList.add("tjv_block"),divCloseElement.classList.add("tjv_bracket"),divCloseElement.innerText=isArray?"]":"}",divBlockItem.appendChild(divCloseElement),divParent.appendChild(divBlockItem)}}